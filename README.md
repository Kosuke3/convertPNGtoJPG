# convertPNGtoJPG

指定フォルダ内のPNG画像をJPGに一括変換し、元のPNGを削除するzshスクリプトです。

---

## ✨Features（特長）✨

フォルダ内にあるPNG→JPG一括変換。データ容量の大幅削減を目指します。  
編集やライターをしていると、資料として多くの画像ファイルがMac内に溜まってしまうことがありますね。  
「容量の整理をしたいけど削除が面倒」という面倒くさがり屋さんでも、一気にスッキリ整理できるスクリプトです。

### ストレージ容量のダイエット
- 「写真をなんでPNGで送信するの💢」と、イラつくクライアントさんからのデータや、Webクリッピングで保存した資料、「リアル系イラストなのにPNG」といったファイルを自動で整理。
- アルファチャンネル（透過）や画質を気にしない用途なら、JPG化して容量を軽量化し、PCストレージをスッキリ。

### それ、Macが勝手にやってくれます 
- フォルダが何重にも入れ子になっていても、一番上の親階層を指定するだけで、その中にあるすべてのフォルダの中身を再帰的に探索。  
「○月×日取材」ー「オフィス」ー「△△部門」ー「〇〇氏」…とフォルダ階層が深いと確認漏れもしがちですが、自動で確実にPNG画像を探し出してくれます。 
- 見つけたPNG画像を自動でJPGに変換。Photoshopやプレビューなどのアプリを操作する必要はないのでスピーディー。手作業なら1点1分くらいかかりますね。
- JPGに変換したら、元のPNGファイルは**即削除**して容量を回復。 
 
 ### 実は、『一番時間がかかる』心理的ロスタイムをシャットアウト
- 画像整理中に「このオリジナルは残すべきかな、どうしよう……」と悩んだことはありませんか？  
こうした迷いの時間も積み重なると膨大で「写真整理に予想以上の時間がかかってしまった」という経験があるはず。このスクリプトなら、**即PNG削除**なので、一切の迷いなく作業完了。
- フォルダを1つずつ開いて確認することに疲れてしまって、「今日はここまで」とサボってしまったら最後、永遠に終わらない……、という経験はありませんか。
 このスクリプトを実行させれば、目を離した隙に整理を終わらせます。「写真の整理をしないとな……」という重い気持ちから解放されます。
 
### 面倒だけど必要な雑用から解放し、本来必要なクリエイティビティーに割く時間とPC容量を作り出す
- PNG画像は『塵も積もれば山となる』で、MacBookなどのノートPCでは特にストレージ容量の悩みは切実。容量が大きい「写真なのにPNGファイル」をJPGに置き換えてストレージ容量をダイエット。（もちろん、効果の大小はPNG画像の点数やサイズによります）
- 自分の手で一点一点作業をすると、画像点数・フォルダ数の増加とともに作業時間だけでなく、漏れやミスも増加。そんなネガティブをなくして、削減できた時間で別の作業をしたり、休憩する方が**効率的**ですね。
- ⚠️注意：オリジナルを残したいPNGがあるフォルダには使わないでください。ゴミ箱にも残らず、**その場で完全に削除**されます。
- ⚠️注意：このスクリプトは自分用に作成し、その限りにおいては問題なく動作しましたが、このスクリプトを使用した結果、**トラブルや不具合が生じても責任は取れません**ことを理解していただいた上でご使用ください。
- 同業の方（に限らず）、別の使用例や改変アイディアなど共有いただけると幸いです。

---

## 🔧Requirements（要件）🔧

- macOS（zsh）のターミナル（アプリケーション＞ユーティリティの中にターミナル.appがあります）
- [ImageMagick 7](https://imagemagick.org/)  
  ※インストールされていない場合は、Homebrew（Homebrewがインストールされていない場合は、[https://brew.sh/ja/](https://brew.sh/ja/) からHomebrewをインストールの上） `brew install imagemagick` でインストールをしてください。

---

## 🚀Usage（使用方法）🚀
- ターミナルを起動し、  
ユーザー名@ホスト（PC）名 ~ % ./convertPNGtoJPG.zsh /Volumes/（PNGファイルを検索しJPGに変換したいフォルダ群がある最上位フォルダ）　を入力しリターンキーを押すことで実行できます。  
※「convertPNGtoJPG.zsh」のファイル名、指定したいフォルダ名を直接入力しなくても、それぞれターミナル上にドラッグ＆ドロップ＋リターンキーでスタートできます。

- 実行中の画面はこのような感じです。（PNGファイルが4つあった場合のイメージ）  
📊変換結果：/Volumes/指定した最上位フォルダのパス/中のフォルダA/その中のフォルダ1……/PNGファイルA.png X.XX MB 　PNGファイルA.jpg XXX.X kB bytes → PNGファイルA.pngを削除
📊変換結果：/Volumes/指定した最上位フォルダのパス/中のフォルダA/その中のフォルダ2……/PNGファイル2.png XXX.X kB 　PNGファイル2.jpg XX.X kB bytes → PNGファイル2.pngを削除
📊変換結果：/Volumes/指定した最上位フォルダのパス/中のフォルダB/その中のフォルダ3……/PNGファイル3 XXX.X kB 　PNGファイル3.jpg XX.X kB bytes → PNGファイル3.pngを削除
📊変換結果：/Volumes/指定した最上位フォルダのパス/中のフォルダB/その中のフォルダ4……/PNGファイル4 XXX.X kB 　PNGファイル4.jpg 24.1 kB bytes → PNGファイル4.pngを削除

- JPGへの変換画質はImageMagickの設定（最小画質1〜100最大画質）の80を指定しています。以下の行の-qualityの数値を変えると画質を調整できます。（ImageMagickでは92を標準としているようです。また、画質を指定しないとImageMagickが最適の画質を算出、算出できない場合は92で変換するそうです）  
magick "$pngfile" -quality 80 "$jpgfile";

---

## 更新履歴
詳しくは [CHANGELOG.md](CHANGELOG.md) をご確認ください。